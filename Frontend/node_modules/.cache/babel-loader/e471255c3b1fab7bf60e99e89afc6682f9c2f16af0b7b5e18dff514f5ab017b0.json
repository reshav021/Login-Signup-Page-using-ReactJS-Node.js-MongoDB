{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/reshav/Desktop/Project/login-signup/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/reshav/Desktop/Project/login-signup/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/reshav/Desktop/Project/login-signup/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginSignup(){var _ref;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loginContent=_useState8[0],setLoginContent=_useState8[1];var navigate=useNavigate();var handleSubmitForm=function handleSubmitForm(){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,_response,errorData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!loginContent){_context.next=14;break;}_context.prev=1;_context.next=4;return fetch(\"https://teal-fluffy-toad.cyclic.app/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email:email,password:password})});case 4:response=_context.sent;if(response.ok){navigate('/home');// Redirect to Homepage\n}else{alert(\"Login failed\");}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.error(\"Login error:\",_context.t0);alert(\"An error occurred during login\");case 12:_context.next=35;break;case 14:_context.prev=14;console.log(name,email,password);_context.next=18;return fetch(\"https://teal-fluffy-toad.cyclic.app/signup\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,email:email,password:password})});case 18:_response=_context.sent;if(!_response.ok){_context.next=24;break;}alert(\"Signup successful\");setLoginContent(true);// Switch to login after successful signup\n_context.next=29;break;case 24:_context.next=26;return _response.json();case 26:errorData=_context.sent;// Parse the error response from the server\nconsole.error(\"Signup failed:\",errorData.error);alert(\"Signup failed: \"+errorData.error);case 29:_context.next=35;break;case 31:_context.prev=31;_context.t1=_context[\"catch\"](14);console.error(\"Signup error:\",_context.t1);alert(\"An error occurred during signup\");case 35:case\"end\":return _context.stop();}},_callee,null,[[1,8],[14,31]]);}))).apply(this,arguments);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:loginContent?\"container-active\":\"\",onClick:function onClick(){return setLoginContent(true);},children:/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"})}),/*#__PURE__*/_jsx(\"div\",{className:!loginContent?\"container-active\":\"\",onClick:function onClick(){return setLoginContent(false);},children:/*#__PURE__*/_jsx(\"h1\",{children:\"Signup\"})})]}),/*#__PURE__*/_jsxs(\"form\",{children:[!loginContent&&/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your name\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),\" \",/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:handleSubmitForm,children:[\" \",loginContent?\"LOGIN\":\"SIGNUP\",\" \"]})]}),/*#__PURE__*/_jsxs(\"h5\",{children:[loginContent?\"Don't have an Account?\":\"Already have an account?\",\" \",/*#__PURE__*/_jsx(\"button\",{id:\"toggleLoginFormBtn\",onClick:function onClick(){return setLoginContent(!loginContent);},children:loginContent?\"Create new account\":\"Login\"})]})]});}export default LoginSignup;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","LoginSignup","_ref","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","_useState7","_useState8","loginContent","setLoginContent","navigate","handleSubmitForm","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","_response","errorData","wrap","_callee$","_context","prev","next","fetch","method","headers","body","JSON","stringify","sent","ok","alert","t0","console","error","log","json","t1","stop","apply","arguments","children","className","onClick","type","placeholder","value","onChange","e","target","id"],"sources":["C:/Users/reshav/Desktop/Project/login-signup/src/components/LoginSignup.js"],"sourcesContent":["import React, { useState } from \"react\"\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction LoginSignup() {\r\n  const [name, setName] = useState(\"\")\r\n  const [email, setEmail] = useState(\"\")\r\n  const [password, setPassword] = useState(\"\")\r\n  const [loginContent, setLoginContent] = useState(true)\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmitForm = async () => {\r\n\r\n    if (loginContent) {\r\n      // Handle the login logic and make a request to the backend here\r\n      try {\r\n        const response = await fetch(\"https://teal-fluffy-toad.cyclic.app/login\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({ email, password }),\r\n        })\r\n\r\n        if (response.ok) {\r\n          navigate('/home');    // Redirect to Homepage\r\n        } else {\r\n          alert(\"Login failed\")\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Login error:\", error)\r\n        alert(\"An error occurred during login\")\r\n      }\r\n    } else {\r\n      // Handle signup logic and make a request to the backend here\r\n      try {\r\n        console.log(name, email, password)\r\n        const response = await fetch(\"https://teal-fluffy-toad.cyclic.app/signup\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({ name, email, password }),\r\n        })\r\n\r\n        if (response.ok) {\r\n          alert(\"Signup successful\")\r\n          setLoginContent(true) // Switch to login after successful signup\r\n        } else {\r\n          const errorData = await response.json() // Parse the error response from the server\r\n          console.error(\"Signup failed:\", errorData.error)\r\n          alert(\"Signup failed: \" + errorData.error)\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Signup error:\", error)\r\n        alert(\"An error occurred during signup\")\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container\">\r\n        <div className={loginContent ? \"container-active\" : \"\"} onClick={() => setLoginContent(true)}>\r\n          <h1>Login</h1>\r\n        </div>\r\n        <div className={!loginContent ? \"container-active\" : \"\"} onClick={() => setLoginContent(false)}>\r\n          <h1>Signup</h1>\r\n        </div>\r\n      </div>\r\n\r\n      <form>\r\n        {!loginContent && (\r\n          <input type=\"text\" placeholder=\"Enter your name\" value={name} onChange={(e) => setName(e.target.value)} /> )} \r\n          <input type=\"email\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} /> <input type=\"password\" placeholder=\"Password\" value={password} onChange={(e) => setPassword(e.target.value)} /> \r\n          <button type=\"button\" onClick={handleSubmitForm}> {loginContent ? \"LOGIN\" : \"SIGNUP\"} </button>\r\n      </form>\r\n\r\n      <h5>\r\n        {loginContent ? \"Don't have an Account?\" : \"Already have an account?\"}{\" \"}\r\n        <button id=\"toggleLoginFormBtn\" onClick={() => setLoginContent(!loginContent)}>\r\n          {loginContent ? \"Create new account\" : \"Login\"}\r\n        </button>\r\n      </h5>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LoginSignup"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}